<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PawfectFind - Premium Pet Services Marketplace in Singapore</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <header>
        <div class="container header-content">
            <a href="index.html" class="logo">
                <img src="images/PawfectFind_logo.png" alt="PawfectFind Logo" 
                    class="logo-img">
            </a>
            <nav>
                <ul>
                    <li><a href="index.html" class="active">Home</a></li>
                    <li><a href="services.html">Services</a></li>
                    <li><a href="providers.html">Providers</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="header-actions">
            <div class="cart-icon">
                <i class="fas fa-shopping-cart"></i>
            <span class="cart-badge">2</span>
            </div>
            <div class="user-icon" id="userIcon">
                <i class="fas fa-user"></i>
            <span id="userStatus" style="display: none;"></span>
            </div>
            </div>
        </div>
    </header>

    <!-- React Booking System will be rendered here -->
    <div id="root"></div>

    <!--<section class="page-header">
        <div class="container">
            <h1 class="page-title">Singapore's Premier Pet Services Marketplace</h1>
            <p class="breadcrumb">
                <a href="index.html">Home</a> / Welcome
            </p>
        </div>
    </section>-->

    <main class="main-content">
        <div class="container">
            <h2 class="section-title">Featured Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-img" style="background-image: url('https://images.unsplash.com/photo-1525253013412-55c1a69a5738?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80')">
                        <div class="service-badge">Most Popular</div>
                    </div>
                    <div class="service-content">
                        <h3 class="service-title">Premium Pet Grooming</h3>
                        <p class="service-desc">Professional grooming services with certified groomers across Singapore.</p>
                        <ul class="service-features">
                            <li>Full wash & dry service</li>
                            <li>Nail trimming & ear cleaning</li>
                            <li>Professional styling</li>
                            <li>Flea & tick treatment</li>
                        </ul>
                        <div class="service-footer">
                            <div class="service-price">From $45</div>
                            <a href="booking.html?service=grooming" class="btn btn-primary">Book Now</a>
                        </div>
                    </div>
                </div>

                <div class="service-card">
                    <div class="service-img" style="background-image: url('https://images.unsplash.com/photo-1596272875729-ed2ff7d6d9c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80')">
                        <div class="service-badge">Trusted</div>
                    </div>
                    <div class="service-content">
                        <h3 class="service-title">Reliable Pet Sitting</h3>
                        <p class="service-desc">Experienced pet sitters for day care or overnight stays in your home.</p>
                        <ul class="service-features">
                            <li>Background-checked sitters</li>
                            <li>Daily photo updates</li>
                            <li>Exercise & playtime</li>
                            <li>Emergency care support</li>
                        </ul>
                        <div class="service-footer">
                            <div class="service-price">From $30/day</div>
                            <a href="booking.html?service=sitting" class="btn btn-primary">Book Now</a>
                        </div>
                    </div>
                </div>

                <div class="service-card">
                    <div class="service-img" style="background-image: url('https://images.unsplash.com/photo-1450778869180-41d0601e046e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1155&q=80')">
                        <div class="service-badge">Luxury</div>
                    </div>
                    <div class="service-content">
                        <h3 class="service-title">Premium Pet Hotels</h3>
                        <p class="service-desc">5-star boarding facilities with round-the-clock care and supervision.</p>
                        <ul class="service-features">
                            <li>Climate-controlled suites</li>
                            <li>24/7 veterinary support</li>
                            <li>Daily exercise programs</li>
                            <li>Gourmet meal service</li>
                        </ul>
                        <div class="service-footer">
                            <div class="service-price">From $60/night</div>
                            <a href="booking.html?service=hotel" class="btn btn-primary">Book Now</a>
                        </div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin: 50px 0;">
                <a href="services.html" class="btn btn-secondary">View All Services</a>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>PawfectFind</h3>
                    <p>Singapore's most trusted pet services marketplace connecting pet parents with verified professionals.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="booking.html?service=grooming">Pet Grooming</a></li>
                        <li><a href="booking.html?service=sitting">Pet Sitting</a></li>
                        <li><a href="booking.html?service=hotel">Pet Hotels</a></li>
                        <li><a href="booking.html?service=training">Pet Training</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="providers.html">Service Providers</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i> +65 6123 4567</li>
                        <li><i class="fas fa-envelope"></i> hello@pawfectfind.sg</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Pet Road, Singapore 123456</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 PawfectFind. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- React Booking System Component -->
    <!-- React and Babel Scripts -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Enhanced React Booking System Component -->
    <script type="text/babel">
        const { useState, useEffect } = React;

        const PetServicesApp = () => {
            const [petType, setPetType] = useState('');
            const [location, setLocation] = useState('');
            const [petService, setPetService] = useState('');
            const [selectedDate, setSelectedDate] = useState('');
            const [selectedTime, setSelectedTime] = useState('');
            const [selectedVendor, setSelectedVendor] = useState(null);
            const [showPetDropdown, setShowPetDropdown] = useState(false);
            const [showLocationDropdown, setShowLocationDropdown] = useState(false);
            const [showServiceDropdown, setShowServiceDropdown] = useState(false);
            const [showCalendar, setShowCalendar] = useState(false);
            const [showTimePicker, setShowTimePicker] = useState(false);
            
            // Calendar state
            const [currentMonth, setCurrentMonth] = useState(new Date().getMonth());
            const [currentYear, setCurrentYear] = useState(new Date().getFullYear());

            // Enhanced vendor data with proper availability
            const vendors = [
                {
                    id: 'paws',
                    name: 'Paws & Claws Grooming',
                    rating: 4.9,
                    services: ['Grooming', 'Breed Specialist'],
                    price: 'From $45',
                    availableSlots: {
                        '2025-09-15': ['09:00 AM', '10:00 AM', '02:00 PM', '04:00 PM'],
                        '2025-09-16': ['10:00 AM', '01:00 PM', '03:00 PM'],
                        '2025-09-18': ['08:00 AM', '11:00 AM', '05:00 PM'],
                        '2025-09-19': ['09:00 AM', '02:00 PM', '06:00 PM'],
                        '2025-09-22': ['10:00 AM', '03:00 PM', '07:00 PM'],
                        '2025-09-24': ['08:00 AM', '12:00 PM', '04:00 PM']
                    }
                },
                {
                    id: 'happy',
                    name: 'Happy Tails Pet Hotel',
                    rating: 4.7,
                    services: ['Pet Hotel', 'Boarding', 'Day Care'],
                    price: 'From $60/night',
                    availableSlots: {
                        '2025-09-15': ['10:00 AM', '02:00 PM'],
                        '2025-09-16': ['09:00 AM', '01:00 PM', '05:00 PM'],
                        '2025-09-17': ['11:00 AM', '03:00 PM'],
                        '2025-09-21': ['08:00 AM', '12:00 PM', '04:00 PM'],
                        '2025-09-22': ['10:00 AM', '02:00 PM', '06:00 PM'],
                        '2025-09-25': ['09:00 AM', '01:00 PM', '05:00 PM']
                    }
                },
                {
                    id: 'bark',
                    name: 'Bark Avenue Training',
                    rating: 4.8,
                    services: ['Obedience Training', 'Puppy Classes'],
                    price: 'From $75/session',
                    availableSlots: {
                        '2025-09-16': ['09:00 AM', '11:00 AM', '03:00 PM'],
                        '2025-09-18': ['10:00 AM', '02:00 PM', '04:00 PM'],
                        '2025-09-20': ['08:00 AM', '01:00 PM', '05:00 PM'],
                        '2025-09-23': ['09:00 AM', '12:00 PM', '06:00 PM']
                    }
                }
            ];

            const petTypes = ['Dogs', 'Cats', 'Rabbits', 'Hamsters', 'Guinea Pigs', 'Chinchillas', 'Ferrets', 'Birds', 'Turtles', 'Iguanas'];
            const locations = ['Central (District 1-2)', 'West (District 5-8, 22-23)', 'East (District 14-18)', 'North (District 19-21, 26-28)', 'South (District 3-4, 9-10)', 'North-East (District 11-13, 24-25)'];
            const services = ['Grooming', 'Sitter', 'Pet Hotel', 'Training'];

            // Close dropdowns when clicking outside
            useEffect(() => {
                const handleClickOutside = (event) => {
                    if (!event.target.closest('.dropdown') && !event.target.closest('.datetime-picker')) {
                        setShowPetDropdown(false);
                        setShowLocationDropdown(false);
                        setShowServiceDropdown(false);
                        setShowCalendar(false);
                        setShowTimePicker(false);
                    }
                };

                document.addEventListener('click', handleClickOutside);
                return () => document.removeEventListener('click', handleClickOutside);
            }, []);

            const toggleDropdown = (dropdown) => {
                setShowPetDropdown(dropdown === 'pet' ? !showPetDropdown : false);
                setShowLocationDropdown(dropdown === 'location' ? !showLocationDropdown : false);
                setShowServiceDropdown(dropdown === 'service' ? !showServiceDropdown : false);
                setShowCalendar(false);
                setShowTimePicker(false);
            };

            const toggleCalendar = () => {
                setShowCalendar(!showCalendar);
                setShowTimePicker(false);
            };

            const toggleTimePicker = () => {
                if (selectedDate) {
                    setShowTimePicker(!showTimePicker);
                    setShowCalendar(false);
                }
            };

            const handleDateSelect = (day) => {
                const dateStr = formatDate(day);
                setSelectedDate(dateStr);
                setSelectedTime('');
                setShowCalendar(false);
                setShowTimePicker(true);
            };

            const handleTimeSelect = (time) => {
                setSelectedTime(time);
                setShowTimePicker(false);
            };

            // Calendar functions
            const getDaysInMonth = (month, year) => new Date(year, month + 1, 0).getDate();
            const getFirstDayOfMonth = (month, year) => new Date(year, month, 1).getDay();
            
            const navigateMonth = (direction) => {
                if (direction === 'prev') {
                    setCurrentMonth(currentMonth === 0 ? 11 : currentMonth - 1);
                    setCurrentYear(currentMonth === 0 ? currentYear - 1 : currentYear);
                } else {
                    setCurrentMonth(currentMonth === 11 ? 0 : currentMonth + 1);
                    setCurrentYear(currentMonth === 11 ? currentYear + 1 : currentYear);
                }
            };
            
            const formatDate = (day) => `${currentYear}-${(currentMonth + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;

            const getAvailableSlotsForDate = () => {
                if (!selectedDate || !selectedVendor) return [];
                const vendor = vendors.find(v => v.id === selectedVendor);
                return vendor && vendor.availableSlots ? vendor.availableSlots[selectedDate] || [] : [];
            };

            const renderCalendar = () => {
                const daysInMonth = getDaysInMonth(currentMonth, currentYear);
                const firstDay = getFirstDayOfMonth(currentMonth, currentYear);
                const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                
                let days = [];
                
                for (let i = 0; i < firstDay; i++) {
                    days.push(<div key={`empty-${i}`} className="calendar-day other-month"></div>);
                }
                
                for (let day = 1; day <= daysInMonth; day++) {
                    const dateStr = formatDate(day);
                    const vendor = selectedVendor ? vendors.find(v => v.id === selectedVendor) : null;
                    const hasSlots = vendor && vendor.availableSlots && vendor.availableSlots[dateStr] && vendor.availableSlots[dateStr].length > 0;
                    const isSelected = selectedDate === dateStr;
                    
                    days.push(
                        <div 
                            key={day} 
                            className={`calendar-day ${hasSlots ? 'available' : 'unavailable'} ${isSelected ? 'selected' : ''}`}
                            onClick={() => hasSlots && handleDateSelect(day)}
                        >
                            {day}
                        </div>
                    );
                }
                
                return (
                    <div className="calendar-popup">
                        <div className="calendar-container">
                            <div className="calendar-header">
                                <button className="calendar-nav" onClick={() => navigateMonth('prev')}>
                                    <i className="fas fa-chevron-left"></i>
                                </button>
                                <div className="calendar-month">
                                    {monthNames[currentMonth]} {currentYear}
                                </div>
                                <button className="calendar-nav" onClick={() => navigateMonth('next')}>
                                    <i className="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            
                            <div className="calendar-grid">
                                <div className="calendar-weekday">Sun</div>
                                <div className="calendar-weekday">Mon</div>
                                <div className="calendar-weekday">Tue</div>
                                <div className="calendar-weekday">Wed</div>
                                <div className="calendar-weekday">Thu</div>
                                <div className="calendar-weekday">Fri</div>
                                <div className="calendar-weekday">Sat</div>
                                {days}
                            </div>
                        </div>
                    </div>
                );
            };

            const renderTimePicker = () => {
                const availableSlots = getAvailableSlotsForDate();
                
                return (
                    <div className="time-picker-popup">
                        <div className="time-picker-container">
                            <h4>Select Time Slot</h4>
                            <div className="time-slots">
                                {availableSlots.length > 0 ? (
                                    availableSlots.map((time, index) => (
                                        <div 
                                            key={index} 
                                            className={`time-slot ${selectedTime === time ? 'selected' : ''}`}
                                            onClick={() => handleTimeSelect(time)}
                                        >
                                            {time}
                                        </div>
                                    ))
                                ) : (
                                    <div className="no-slots">No available slots for this date</div>
                                )}
                            </div>
                        </div>
                    </div>
                );
            };

            const filteredVendors = petService 
                ? vendors.filter(vendor => vendor.services.some(s => s.toLowerCase().includes(petService.toLowerCase())))
                : vendors;

            return (
                <div>
                    <section className="hero">
                        <div className="container hero-content">
                            <h1>Premium Pet Services Matching in Singapore</h1>
                            <p>Find the best grooming, sitting, and hotel services for your beloved pets</p>
                        </div>
                    </section>

                    <div className="container">
                        <div className="search-section">
                            <h2 className="search-title">Find the perfect service for your pet</h2>
                            <div className="filters-grid">
                                <div className="filter-group">
                                    <label>Pet Type</label>
                                    <div className="dropdown">
                                        <div className="dropdown-select" onClick={(e) => { e.stopPropagation(); toggleDropdown('pet'); }}>
                                            <span>{petType || 'Select pet type'}</span>
                                            <i className={`fas fa-chevron-${showPetDropdown ? 'up' : 'down'}`}></i>
                                        </div>
                                        {showPetDropdown && (
                                            <div className="dropdown-list show">
                                                {petTypes.map((pet, index) => (
                                                    <div key={index} className="dropdown-item" onClick={() => { setPetType(pet); setShowPetDropdown(false); }}>
                                                        {pet}
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                </div>

                                <div className="filter-group">
                                    <label>Location</label>
                                    <div className="dropdown">
                                        <div className="dropdown-select" onClick={(e) => { e.stopPropagation(); toggleDropdown('location'); }}>
                                            <span>{location || 'Select location'}</span>
                                            <i className={`fas fa-chevron-${showLocationDropdown ? 'up' : 'down'}`}></i>
                                        </div>
                                        {showLocationDropdown && (
                                            <div className="dropdown-list show">
                                                {locations.map((loc, index) => (
                                                    <div key={index} className="dropdown-item" onClick={() => { setLocation(loc); setShowLocationDropdown(false); }}>
                                                        {loc}
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                </div>

                                <div className="filter-group">
                                    <label>Pet Service</label>
                                    <div className="dropdown">
                                        <div className="dropdown-select" onClick={(e) => { e.stopPropagation(); toggleDropdown('service'); }}>
                                            <span>{petService || 'Select service'}</span>
                                            <i className={`fas fa-chevron-${showServiceDropdown ? 'up' : 'down'}`}></i>
                                        </div>
                                        {showServiceDropdown && (
                                            <div className="dropdown-list show">
                                                {services.map((service, index) => (
                                                    <div key={index} className="dropdown-item" onClick={() => { setPetService(service); setShowServiceDropdown(false); }}>
                                                        {service}
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                </div>

                                <div className="filter-group">
                                    <label>Date & Time</label>
                                    <div className="datetime-picker">
                                        <div className="date-input">
                                            <input 
                                                type="text" 
                                                placeholder="Select date" 
                                                value={selectedDate ? new Date(selectedDate).toLocaleDateString() : ''}
                                                readOnly 
                                                onClick={(e) => { e.stopPropagation(); toggleCalendar(); }}
                                            />
                                            <i className="fas fa-calendar"></i>
                                            {showCalendar && renderCalendar()}
                                        </div>
                                        
                                        <div className="time-input">
                                            <input 
                                                type="text" 
                                                placeholder="Select time" 
                                                value={selectedTime}
                                                readOnly 
                                                onClick={(e) => { e.stopPropagation(); toggleTimePicker(); }}
                                            />
                                            <i className="fas fa-clock"></i>
                                            {showTimePicker && renderTimePicker()}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {petService && (
                                <div className="filter-group">
                                    <label>Select Vendor</label>
                                    <div className="vendor-cards">
                                        {filteredVendors.map(vendor => (
                                            <div 
                                                key={vendor.id} 
                                                className={`vendor-card ${selectedVendor === vendor.id ? 'selected' : ''}`}
                                                onClick={() => setSelectedVendor(vendor.id)}
                                            >
                                                <div className="vendor-name">{vendor.name}</div>
                                                <div className="vendor-rating">
                                                    {'★'.repeat(Math.floor(vendor.rating))}
                                                    {'☆'.repeat(5 - Math.floor(vendor.rating))}
                                                    ({vendor.rating})
                                                </div>
                                                <div className="vendor-services">
                                                    {vendor.services.map(service => (
                                                        <span key={service} className="vendor-service-tag">{service}</span>
                                                    ))}
                                                </div>
                                                <div className="vendor-price">{vendor.price}</div>
                                                {selectedDate && vendor.availableSlots[selectedDate] && (
                                                    <div className="vendor-availability">
                                                        {vendor.availableSlots[selectedDate].length} slots available
                                                    </div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            <a href="#" className="btn-search" onClick={(e) => {
                                e.preventDefault();
                                if (!selectedDate || !selectedTime || !selectedVendor) {
                                    alert('Please select date, time, and vendor first');
                                } else {
                                    alert(`Booking confirmed!\nDate: ${selectedDate}\nTime: ${selectedTime}\nVendor: ${vendors.find(v => v.id === selectedVendor).name}`);
                                }
                            }}>
                                <i className="fas fa-search"></i> Search Services
                            </a>
                            
                            {selectedDate && selectedTime && selectedVendor && (
                                <div className="selection-summary">
                                    Selected: {new Date(selectedDate).toLocaleDateString()} at {selectedTime} with {vendors.find(v => v.id === selectedVendor).name}
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PetServicesApp />);
    </script>
    <script>
    // Handle user icon click
    document.getElementById('userIcon').addEventListener('click', function() {
        const user = localStorage.getItem('user');
        if (user) {
            // User is logged in - show profile dropdown or redirect to profile
            alert('User is logged in!'); // Replace with actual profile page
        } else {
            // User is not logged in - redirect to login
            window.location.href = 'login.html';
        }
    });

    // Update user status on page load
    window.addEventListener('DOMContentLoaded', function() {
        const user = localStorage.getItem('user');
        const userStatus = document.getElementById('userStatus');
        
        if (user) {
            const userData = JSON.parse(user);
            userStatus.textContent = '✓';
            userStatus.style.display = 'inline';
            userStatus.style.color = 'green';
            userStatus.style.marginLeft = '5px';
            userStatus.style.fontSize = '12px';
        }
    });
</script>
</body>
</html>